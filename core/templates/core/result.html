{% extends 'core/base_layout.html' %}
{% load static %}
{% block body %}
<div>
    <h1 class="text-3xl font-bold mb-6">Patient Information and Analysis Result</h1>

    <!-- Responsive Layout -->
    <div class="space-y-6 lg:space-y-0 lg:grid lg:grid-cols-2 lg:gap-6">
        
        <!-- Left Column: Patient Details and Analysis Result -->
        <div class="space-y-6">

            <!-- Patient Details Card -->
            <div class="bg-white border border-gray-200 shadow-md rounded-lg p-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-2">Patient Details</h2>
                <hr class="border-gray-300 mb-4">
                <div class="space-y-2 text-gray-600">
                    <p><strong class="text-gray-800">Patient Code:</strong> <span class="ml-2">{{ analysis.patient.patient_code }}</span></p>
                    <p><strong class="text-gray-800">First Name:</strong> <span class="ml-2">{{ analysis.patient.first_name }}</span></p>
                    <p><strong class="text-gray-800">Last Name:</strong> <span class="ml-2">{{ analysis.patient.last_name }}</span></p>
                    <p><strong class="text-gray-800">Gender:</strong> <span class="ml-2">{{ analysis.patient.gender }}</span></p>
                    <p><strong class="text-gray-800">Age:</strong> <span class="ml-2">{{ analysis.patient.age }}</span></p>
                </div>
            </div>

            <!-- Doctor Details Card -->
            <div class="bg-white border border-gray-200 shadow-md rounded-lg p-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-2">Doctor Details</h2>
                <hr class="border-gray-300 mb-4">
                <div class="space-y-2 text-gray-600">
                    <p><strong class="text-gray-800">Doctor Name:</strong> <span class="ml-2">{{ analysis.doctor.first_name }} {{ analysis.doctor.last_name }}</span></p>
                    <p><strong class="text-gray-800">Hospital:</strong> <span class="ml-2">{{ analysis.doctor.hospital.name }}</span></p>
                </div>
            </div>

            <!-- Analysis Result Card -->
            <div class="bg-white border border-gray-200 shadow-md rounded-lg p-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-2">Analysis Result</h2>
                <hr class="border-gray-300 mb-4">
                <div class="space-y-2 text-gray-600">
                    <p class="text-lg font-semibold text-gray-700">Predicted Tumor Type:</p>
                    <p class="text-2xl text-blue-600 font-bold text-center">{{ analysis.result }}</p>
                </div>
            </div>

        </div>

        <!-- Right Column: Image Preview -->
        <div class="flex justify-center items-center lg:col-span-1">
            <div class="border-2 border-dotted border-gray-300 rounded-lg p-4 w-full h-full flex justify-center items-center">
                <img id="image_preview" src="{{ analysis.image.url }}" alt="Image preview" class="w-full h-full object-cover">
            </div>
        </div>

    </div>
</div>
{% endblock %}
{% block extra_js %}
        <script src="{% static 'js/dashboard.js' %}" defer></script>
{% endblock %}